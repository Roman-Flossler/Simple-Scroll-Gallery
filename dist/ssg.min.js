/*!  
    Story Show Gallery (SSG) ver: 2.9.1 - https://ssg.flor.cz/
    Copyright (C) 2020 Roman Fl√∂ssler - SSG is Licensed under GPLv3  */
var SSG={cfg:{}};SSG.cfg.scrollDuration=500,SSG.cfg.alwaysFullscreen=!1,SSG.cfg.neverFullscreen=!1,SSG.cfg.fileToLoad=null,SSG.cfg.socialShare=!0,SSG.cfg.logIntoGA=!0,SSG.cfg.rightClickProtection=!0,SSG.cfg.sideCaptionforSmallerLandscapeImg=!1,SSG.cfg.scaleLock1=!1,SSG.cfg.watermarkWidth=147,SSG.cfg.watermarkImage="",SSG.cfg.watermarkText="",SSG.cfg.watermarkFontSize=20,SSG.cfg.watermarkOffsetX=2,SSG.cfg.watermarkOffsetY=1.2,SSG.cfg.watermarkOpacity=.36,SSG.cfg.hint1="Browse through Story Show Gallery by:",SSG.cfg.hint2="a mouse wheel <strong>‚äö</strong> or arrow keys <strong>‚Üì‚Üí‚Üë‚Üê</strong>",SSG.cfg.hint3="or <strong>TAP</strong> on the bottom (top) of the screen",SSG.cfg.hintTouch="<strong>TAP</strong> on the bottom (top) of the screen<br> to browse through Story Show Gallery.",SSG.cfg.hintFS="For a better experience <br><a>click for fullscreen mode</a>",SSG.cfg.toTheTop="Scroll to top",SSG.cfg.exitLink="Exit the Gallery",SSG.cfg.imageLink="The link to selected image:",SSG.cfg.copyButton="‚éò Copy the link to clipboard",SSG.cfg.linkPaste="‚Ä¶and you can paste it anywhere via ctrl+v",SSG.cfg.showLandscapeHint=!0,SSG.cfg.landscapeHint="photos look better in landscape mode <span>üòâ</span>",SSG.cfg.onGalleryStart=null,SSG.cfg.onImgChange=null,SSG.cfg.onSignpost=null,SSG.cfg.onGalleryExit=null,SSG.jQueryImgSelector="a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.png'],a[href$='.PNG'],a[href$='.gif'],a[href$='.GIF'],a[href$='.webp']",SSG.getJQueryImgCollection=function(){SSG.jQueryImgCollection=jQuery(SSG.jQueryImgSelector).filter(jQuery("a:not(.nossg)"))},jQuery(document).ready(function(){SSG.cfg.respectOtherWpGalleryPlugins&&jQuery("body [class*='gallery']").not(jQuery(".wp-block-gallery, .blocks-gallery-grid, .blocks-gallery-item, .gallery, .gallery-item, .gallery-icon ")).addClass("nossg"),SSG.cfg.wordpressGalleryFS&&jQuery(".gallery a, .wp-block-gallery a").filter(jQuery(SSG.jQueryImgSelector)).addClass("fs"),jQuery(".nossg a").filter(jQuery(SSG.jQueryImgSelector)).addClass("nossg"),jQuery(".fs a").filter(jQuery(SSG.jQueryImgSelector)).addClass("fs"),jQuery(".vipssg a").filter(jQuery(SSG.jQueryImgSelector)).addClass("vipssg"),SSG.jQueryImgCollection||SSG.getJQueryImgCollection(),SSG.jQueryImgCollection.click(SSG.run),window.setTimeout(function(){SSG.running||SSG.getHash(!1)},10)}),SSG.run=function(e){return SSG.jQueryImgCollection||SSG.getJQueryImgCollection(),SSG.running||0==SSG.jQueryImgCollection.length&&!e.imgs||(SSG.running=!0,jQuery("html").addClass("ssg-active"),!e||!e.noExit||e.initImgID||null!=(S=SSG.getHash(!0))&&(e.initImgID=S),SSG.initEvent=e,SSG.setVariables(),SSG.cfg.scaleLock1?jQuery("meta[name='viewport']").attr("content","initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no, "):jQuery("meta[name='viewport']").attr("content","initial-scale=1, viewport-fit=cover"),SSG.themeColor?jQuery("meta[name='theme-color']").attr("content","#131313"):jQuery("head").append("<meta name='theme-color' content='#131313'>"),jQuery("body").append("<div id='SSG_bg'><b>&#xA420;</b> Story Show Gallery</div>"),SSG.FSmode(e)),!1;var S},SSG.setVariables=function(){var e,S;SSG.imgs=[],SSG.justLoadedImg=-1,SSG.displayedImg=-1,SSG.lockedImg=0,SSG.isImgLocked=!1,SSG.imgDelta=1,SSG.originalPos=window.pageYOffset||document.documentElement.scrollTop,SSG.actualPos=SSG.originalPos,SSG.scrHeight=jQuery(window).height(),SSG.scrFraction=1<=jQuery(window).width()/SSG.scrHeight?2:3.5,SSG.imageDown=!1,SSG.imageUp=!1,SSG.isFirstImageCentered=!1,SSG.inFullscreenMode=!1,SSG.fullScreenSupport=!0,SSG.isFullscreenModeWanted=!1,SSG.readyToExitFullScreen=!1,SSG.finito=!1,SSG.atLastone=!1,SSG.destroyOnFsChange=!0,SSG.inExitMode=!0,SSG.loadNextImg=!1,SSG.savedTimeStamp=0,SSG.wasJumpScrollUsed=!1,SSG.jumpScrollingNow=!1,SSG.fsTipShown=!1,SSG.isGalleryCreated=!1,SSG.isOrientationChanged=!1,SSG.location=window.location.href.split("#",1)[0],SSG.viewport=jQuery("meta[name='viewport']").attr("content"),SSG.themeColor=jQuery("meta[name='theme-color']").attr("content"),SSG.smallScreen=window.matchMedia("(max-width: 933px) and (orientation: landscape), (max-width: 500px) and (orientation: portrait) ").matches,SSG.landscapeMode=window.matchMedia("(orientation: landscape)").matches,SSG.landscapeModeOriginal=SSG.landscapeMode,SSG.watermarkStyle="",(SSG.cfg.watermarkImage||SSG.cfg.watermarkText)&&(e=SSG.smallScreen?.8*SSG.cfg.watermarkFontSize:SSG.cfg.watermarkFontSize,S=Math.round(SSG.cfg.watermarkWidth/1260*1e3)/10,SSG.watermarkStyle="max-width:"+SSG.cfg.watermarkWidth+"px; min-width:"+Math.round(.69*SSG.cfg.watermarkWidth)+"px; width:"+S+"vmax; background-image: url("+SSG.cfg.watermarkImage+");left:"+SSG.cfg.watermarkOffsetX+"%; bottom:"+SSG.cfg.watermarkOffsetY+"%; height:"+1.5*SSG.cfg.watermarkWidth+"px;max-height: 48vmin;font-size:"+e+"px;opacity:"+SSG.cfg.watermarkOpacity,SSG.watermarkStyle="width:"+S+"vw;"+SSG.watermarkStyle)},SSG.getHash=function(e){SSG.isMobile=window.matchMedia("(max-width: 933px) and (orientation: landscape), (max-width: 500px) and (orientation: portrait) ").matches;var S=navigator.userAgent.toLowerCase(),t=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(S),i="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;SSG.isTablet=t||i;var n,a=window.location.hash,o=SSG.jQueryImgCollection.toArray();if(""!=a){a=a.substring(1,a.length);for(var r=0;r<o.length;r++){if(-1!=SSG.getName(o[r].href).indexOf(a)){n=r;break}}if(void 0!==n){if(e)return n;SSG.run({fsa:SSG.hasClass(o[n].classList,"fs")||SSG.isMobile||SSG.isTablet,initImgID:n})}}return null},SSG.FSmode=function(e){jQuery(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",SSG.onFS),jQuery(document).on("fullscreenerror",function(){SSG.createGallery(SSG.initEvent),window.setTimeout(function(){SSG.showFsTip("fsOffer")},600)});var S=SSG.isMobile&&SSG.landscapeMode,t=SSG.isMobile&&!SSG.landscapeMode;SSG.cfg.alwaysFullscreen?SSG.openFullscreen():t||SSG.cfg.neverFullscreen?SSG.createGallery(SSG.initEvent):e&&e.fsa?(SSG.createGallery(SSG.initEvent),SSG.isFullscreenModeWanted=!0):S||SSG.isTablet||e&&e.fs||e&&e.currentTarget&&SSG.hasClass(e.currentTarget.classList,"fs")&&!e.altKey?SSG.openFullscreen():SSG.createGallery(SSG.initEvent),document.fullscreenElement&&(SSG.inFullscreenMode=!0);var i=document.documentElement;(i.requestFullscreen||i.mozRequestFullScreen||i.webkitRequestFullscreen)&&!1!==document.fullscreenEnabled||(SSG.createGallery(SSG.initEvent),SSG.fullScreenSupport=!1),void 0===document.fullscreenEnabled&&window.setTimeout(function(){SSG.createGallery(SSG.initEvent)},1333),!SSG.inFullscreenMode&&SSG.isFullscreenModeWanted&&SSG.fullScreenSupport&&window.setTimeout(function(){SSG.showFsTip("fsOffer")},600)},SSG.createGallery=function(e){var S,t;SSG.isGalleryCreated||(SSG.isGalleryCreated=!0,SSG.initGallery(e),e&&e.imgs?(S=JSON.parse(JSON.stringify(e.imgs)),"whole"!=e.imgsPos&&e.imgsPos?"start"==e.imgsPos?(SSG.getImgList(e),Array.prototype.unshift.apply(SSG.imgs,S)):"end"==e.imgsPos&&(SSG.getImgList(e),Array.prototype.push.apply(SSG.imgs,S)):(SSG.imgs=S,e.initImgID&&(t=SSG.imgs.splice(0,e.initImgID),Array.prototype.push.apply(SSG.imgs,t)))):SSG.getImgList(e),SSG.cfg.onGalleryStart&&SSG.cfg.onGalleryStart(this.createDataObject(0)),SSG.addImage(),SSG.metronomInterval=setInterval(SSG.metronome,333))},SSG.initGallery=function(e){e&&e.noExit&&(SSG.inExitMode=!1),window.scrollTo(0,0),jQuery("body").append("<div id='SSG1'></div>"),SSG.setNotchRight(),SSG.inExitMode&&jQuery("body").append("<div id='SSG_exit'></div>"),SSG.jQueryImgCollection.each(function(e){jQuery(this).attr("ssgid",e),jQuery(this).attr("ssg",0)}),jQuery('article[id^="post-"], div[id^="post-"], .ssg').each(function(S){jQuery(this).find(SSG.jQueryImgSelector).each(function(e){jQuery(this).attr("ssgsid",e),jQuery(this).attr("ssg",S+1)},S)}),jQuery(document).keydown(SSG.keyFunction),jQuery("#SSG_exit").click(function(){SSG.destroyOnFsChange=!1,SSG.destroyGallery()}),jQuery("#SSG1").click(SSG.touchScroll),document.addEventListener("mousewheel",SSG.seizeScrolling,{passive:!1,capture:!0}),document.addEventListener("DOMMouseScroll",SSG.seizeScrolling,{passive:!1,capture:!0}),SSG.isMobile||jQuery(window).resize(SSG.onResize),SSG.cfg.rightClickProtection&&jQuery("#SSG1, #SSG_exit").on("contextmenu",function(e){e.preventDefault(),SSG.showFsTip("hint")}),SSG.isMobile&&(window.screen.orientation?window.screen.orientation.addEventListener("change",SSG.orientationChanged):window.addEventListener("orientationchange",SSG.orientationChanged)),jQuery(document).on("touchmove",function e(){SSG.landscapeMode&&!SSG.wasJumpScrollUsed&&!SSG.fsTipShown&&SSG.running&&(SSG.showFsTip("hint"),jQuery(document).off("touchmove",e))})},SSG.orientationChanged=function(){SSG.isOrientationChanged=!0,SSG.fullScreenSupport&&(!SSG.landscapeMode&&!SSG.inFullscreenMode||SSG.landscapeMode&&SSG.inFullscreenMode)?window.screen.width>window.screen.height?SSG.openFullscreen():SSG.closeFullscreen():SSG.onResize(),SSG.setNotchRight()},SSG.setNotchRight=function(){window.screen.orientation?"landscape-secondary"===screen.orientation.type?jQuery("#SSG1, #SSG_exit").addClass("notchright"):jQuery("#SSG1, #SSG_exit").removeClass("notchright"):window.orientation&&(-90===window.orientation?jQuery("#SSG1, #SSG_exit").addClass("notchright"):jQuery("#SSG1, #SSG_exit").removeClass("notchright"))},SSG.hasClass=function(e,S){for(var t=0;t<e.length;t++)if(e[t]==S)return!0;return!1},SSG.keyFunction=function(e){27==e.which&&SSG.inExitMode&&SSG.destroyGallery(),40!=e.which&&39!=e.which&&34!=e.which&&32!=e.which||(SSG.imageDown=!0),38!=e.which&&37!=e.which&&33!=e.which||(SSG.imageUp=!0),e.preventDefault()},SSG.touchScroll=function(e){e.clientY<SSG.scrHeight/2?SSG.imageUp=!0:SSG.imageDown=!0},SSG.getAlt=function(e){return e.children[0]&&e.children[0].alt?e.children[0].alt:e.children[0]&&"PICTURE"==e.children[0].tagName?e.children[0].children[e.children[0].children.length-1].alt:e.innerText&&" "!=e.innerText?e.innerText:""},SSG.getImgList=function(e){var i,S,t,n,a={};if(e&&e.currentTarget?(i=e.currentTarget.attributes.ssgid.nodeValue,n=e.currentTarget.attributes.ssg.nodeValue,e.currentTarget.attributes.ssgsid&&(t=e.currentTarget.attributes.ssgsid.nodeValue)):n=e&&void 0!==e.initImgID?(i=e.initImgID,t=jQuery("a[ssgid="+i+"]").attr("ssgsid"),jQuery("a[ssgid="+i+"]").attr("ssg")):-1,Array.prototype.forEach.call(SSG.jQueryImgCollection.toArray(),function(e){var S=!SSG.hasClass(e.classList,"gossg")||i==e.attributes.ssgid.nodeValue,t=n==e.attributes.ssg.nodeValue||SSG.hasClass(e.classList,"vipssg")&&0==n;S&&(t||-1==n)&&(a.href=e.href,a.alt=SSG.getAlt(e),a.id=e.attributes.ssgid.nodeValue,e.attributes["data-author"]?a.author=e.attributes["data-author"].nodeValue:a.author="",SSG.imgs.push(a),a={})}),i&&1<SSG.imgs.length){for(var o,r,s=S=0;s<SSG.imgs.length;s++)if(SSG.imgs[s].id==i){S=s;break}void 0===t||1!=t&&2!=t||0<=S-t&&0==jQuery("a[ssgid="+SSG.imgs[S-t].id+"]").attr("ssgsid")&&(o=SSG.imgs.splice(S,1),SSG.imgs.splice(S-t,0,o[0]),S-=t),0<S&&(r=SSG.imgs.splice(0,S),Array.prototype.push.apply(SSG.imgs,r))}},SSG.onFS=function(){if(SSG.isMobile&&SSG.onResize(),SSG.inFullscreenMode&&SSG.readyToExitFullScreen){if(SSG.inFullscreenMode=!1,SSG.readyToExitFullScreen=!1,SSG.isOrientationChanged)return void(SSG.isOrientationChanged=!1);SSG.inExitMode?SSG.destroyOnFsChange&&SSG.destroyGallery():jQuery("#SSG_exit").remove(),SSG.destroyOnFsChange=!0}else SSG.readyToExitFullScreen||(SSG.isGalleryCreated||SSG.createGallery(SSG.initEvent),SSG.readyToExitFullScreen=!0,SSG.inFullscreenMode=!0,SSG.inExitMode||SSG.isMobile||(jQuery("body").append("<div id='SSG_exit'></div>"),jQuery("#SSG_exit").click(function(){SSG.destroyOnFsChange=!0,SSG.closeFullscreen()})))},SSG.refreshPos=function(){if(SSG.running)for(var e=0;e<=SSG.justLoadedImg;e++)SSG.imgs[e].pos=Math.round(jQuery("#SSG1 #i"+e).offset().top)},SSG.countResize=function(){SSG.scrHeight=jQuery(window).height(),SSG.scrFraction=1<=jQuery(window).width()/SSG.scrHeight?2:3.5,SSG.landscapeMode=window.matchMedia("(orientation: landscape)").matches},SSG.scrollToActualImg=function(){SSG.running&&(SSG.isImgLocked=!1,-1!=SSG.justLoadedImg&&void 0!==SSG.imgs[SSG.lockedImg]&&SSG.ScrollTo(SSG.imgs[SSG.lockedImg].pos-SSG.countImageIndent(SSG.lockedImg)))},SSG.refreshFormat=function(){for(var e=0;e<=SSG.justLoadedImg;e++)SSG.displayFormat({data:{imgid:e}})},SSG.onResize=function(){var e=SSG.isOrientationChanged?1:3;SSG.isImgLocked||(SSG.isImgLocked=!0,window.setTimeout(SSG.countResize,600/e),window.setTimeout(SSG.refreshFormat,690/e),window.setTimeout(SSG.refreshPos,1110/e),window.setTimeout(SSG.scrollToActualImg,1200/e))},SSG.displayFormat=function(e){var S=e.data.imgid,t=jQuery("#SSG1 #i"+S).innerHeight(),i=jQuery("#SSG1 #i"+S).innerWidth(),n=i/t,a=jQuery(window).width(),o=.8;1333<a&&(o=.85);var r=a*o/(.97*jQuery(window).height()),s=1.38*i<a*o,l=s&&SSG.cfg.sideCaptionforSmallerLandscapeImg,G=SSG.smallScreen?-7:4;window.setTimeout(function(){jQuery("#SSG1 #uwp"+S).outerHeight()<.9*SSG.scrHeight?jQuery("#SSG1 #uwp"+S).addClass("share-overflow"):jQuery("#SSG1 #uwp"+S).removeClass("share-overflow")},666),100*(n-r)+G<0||l?jQuery("#SSG1 #f"+S).addClass("SSG_uwide"):jQuery("#SSG1 #f"+S).removeClass("SSG_uwide"),s?jQuery("#SSG1 #f"+S).addClass("SSG_captionShift"):jQuery("#SSG1 #f"+S).removeClass("SSG_captionShift")},SSG.onImageLoad=function(e){SSG.justLoadedImg=e.data.imgid,SSG.displayFormat(e),SSG.refreshPos(),SSG.loadNextImg=!0},SSG.onLoadError=function(e){jQuery("#SSG1 #i"+e.data.imgid).attr("src","data:image/gif;base64,R0lGODlhUQAKAIABADVsagAAACH5BAEAAAEALAAAAABRAAoAAAJkjI+py+0PYwQyUCpx3bNqDiIANlpkaYrGqKHm9R5scrHujZaktfb9x2updrCgT8ZLfopMm/JYRApjxOdu6DsxX65n0oj9iY3V77i8XV5bOdoKpwXHw+ucPYTv5M37vqjLMZNQAAA7"),jQuery("#SSG1 #uwb"+e.data.imgid).addClass("serror"),SSG.onImageLoad(e)},SSG.escapeHtml=function(e){var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return S[e]})},SSG.addImage=function(){var e,S,t,i,n,a,o,r,s,l,G,c,d,g,u,m,p,h=SSG.justLoadedImg+1;h<SSG.imgs.length&&(l=SSG.cfg.socialShare?(e=window.location.href.split("#")[0]+"#"+SSG.getName(SSG.imgs[h].href),S=encodeURIComponent(e),i=(t=SSG.imgs[h].author?"<em>"+SSG.imgs[h].author+"</em>":"")?"<br>"+t:t,g=SSG.imgs[h].alt?SSG.imgs[h].alt:"",n=SSG.escapeHtml(jQuery("h1").first().text()),a=SSG.escapeHtml(g),"<span class='share'><span class='share-menu'><a class='reddit' "+(r="onclick='window.open(\"")+"https://www.reddit.com/submit?url="+S+"&title="+(o=SSG.escapeHtml(encodeURIComponent(jQuery("h1").first().text()+" - "+g)))+(s='", "_blank", "width=1100,height=550");')+"'></a><a class='link' onclick='SSG.showFsTip(\""+e+"\")'>üîó</a><a class='tweet' "+r+"http://twitter.com/share?text="+o+"&url="+S+s+"'/></a><a class='pin' "+r+"http://www.pinterest.com/pin/create/button/?url="+S+"&amp;media="+SSG.imgs[h].href+"&amp;description="+o+s+"'></a><a class='email' href='mailto:?subject="+n+"&body="+n+" - "+a+" "+e+"' ><b>@</b></a><a class='FB' "+r+"http://www.facebook.com/sharer/sharer.php?u="+S+s+"'></a></span><a class='ico'></a></span>"):"",G="",c="title",SSG.imgs[h].alt||SSG.imgs[h].author?!SSG.imgs[h].alt&&SSG.imgs[h].author?c="title author-only":SSG.imgs[h].author&&(c="title author"):c="notitle",(SSG.imgs[h].alt||0==h||SSG.imgs[h].author)&&(G="<p class='uwtitle' id='uwp"+h+"'>"+g+l+i+"</p>"),d="<div class='SSG_imgWrap'><span class='SSG_forlogo'><img id='i"+h+"' src='"+SSG.imgs[h].href+"'><span class='SSG_logo' style='"+SSG.watermarkStyle+"'>"+SSG.cfg.watermarkText+"</span>"+l+"</span></div>",g="<p class='title' id='p"+h+"'><span>"+g+t+l+"</span></p>",(u=new Image).src=SSG.imgs[h].href,u.decode&&u.decode().catch(function(){console.log("no image to decode")}),jQuery("#SSG1").append("<figure id='f"+h+"' class='"+c+"'><div id='uwb"+h+"' class='SSG_uwBlock'>"+G+d+"</div>"+g+"</figure>"),jQuery("#SSG1 #i"+h).on("load",{imgid:h},SSG.onImageLoad),jQuery("#SSG1 #i"+h).on("error",{imgid:h},SSG.onLoadError),jQuery(".share").click(function(e){e.stopPropagation()}),jQuery("#SSG1 #f"+h+" .share a").click(function(){jQuery("#SSG1 #f"+h+" .share").toggleClass("share-overflow-coarse"),"link"==this.classList[0]&&SSG.inFullscreenMode&&"MacIntel"!=navigator.platform?(SSG.destroyOnFsChange=!1,SSG.closeFullscreen()):"ico"!=this.classList[0]&&(SSG.destroyOnFsChange=!1,setTimeout(function(){SSG.destroyOnFsChange=!0},1500))})),h==SSG.imgs.length&&(m="<a id='SSG_first' class='SSG_link'><span>&nbsp;</span> "+SSG.cfg.toTheTop+"</a>",p=SSG.inExitMode?"<a id='SSG_exit2' class='SSG_link'>&times; "+SSG.cfg.exitLink+"</a>":"",jQuery("#SSG1").append("<div id='SSG_lastone'> <p id='SSG_menu'>"+m+p+"<a id='SSGL' target='_blank' href='https://ssg.flor.cz/wordpress/' class='SSG_link'><b>&#xA420;</b>SSG</a></p> <div id='SSG_loadInto'></div></div>"),jQuery("#SSG_menu").click(function(e){e.stopPropagation()}),jQuery("#SSG_exit2").click(function(){SSG.destroyOnFsChange=!1,SSG.destroyGallery()}),jQuery("#SSG_first").click(function(){SSG.isFirstImageCentered=!1}),SSG.cfg.fileToLoad&&jQuery("#SSG_loadInto").load(SSG.cfg.fileToLoad,function(e,S,t){var i,n;"success"==S&&(SSG.fileLoaded=!0,jQuery(".SSG_icell").click(function(e){e.stopPropagation()}),i=jQuery("#SSG_loadInto style").html(),(n=document.createElement("style")).type="text/css",n.innerHTML=i,jQuery("head").append(n))}),SSG.finito=!0),0==h&&(jQuery("#SSG1 #p0").append('<a class="SSG_tipCall">&nbsp;</a>'),jQuery("#SSG1 #uwp0").append('<span class="SSG_tipPlace"><a class="SSG_tipCall">&nbsp;</a></span>'),SSG.cfg.showLandscapeHint&&jQuery("#SSG1 #f0").after("<div class='golandscape'>"+SSG.cfg.landscapeHint+"<div>"),jQuery(".SSG_tipCall").click(function(e){SSG.showFsTip("hint"),e.stopPropagation()}))},SSG.getName=function(e){return e.slice(e.lastIndexOf("/")+1,e.lastIndexOf("."))},SSG.setHashGA=function(e){var S=-1!=e?"#"+SSG.getName(SSG.imgs[e].href):"#signpost";SSG.cfg.logIntoGA&&"function"==typeof ga&&ga("send","pageview","/img"+location.pathname+S),"#signpost"==S&&(S=""),-1==navigator.userAgent.indexOf("OPR")&&history.replaceState(null,null,SSG.location+S)},SSG.metronome=function(){!SSG.isImgLocked&&0<=SSG.displayedImg&&(SSG.lockedImg=SSG.displayedImg);var e=window.pageYOffset||document.documentElement.scrollTop;if(!SSG.loadNextImg||SSG.jumpScrollingNow||-1==SSG.justLoadedImg||SSG.finito||SSG.imgs[SSG.justLoadedImg].pos-e<2*SSG.scrHeight&&(SSG.addImage(),SSG.loadNextImg=!1),!SSG.finito&&(-1==SSG.justLoadedImg||SSG.imgs[SSG.justLoadedImg].pos-e<.5*SSG.scrHeight)?jQuery(document.body).addClass("wait"):jQuery(document.body).removeClass("wait"),Math.abs(SSG.actualPos-e)<SSG.scrHeight/8)for(var S=e+Math.round(SSG.scrHeight/SSG.scrFraction),t=0;t<=SSG.justLoadedImg;t++){var i,n,a=SSG.displayedImg+SSG.imgDelta+t;if(a>SSG.justLoadedImg&&(a=a-SSG.justLoadedImg-1),a<SSG.imgs.length-1?i=SSG.imgs[a+1].pos:n=i=SSG.imgs[a].pos+jQuery("#SSG1 #f"+a).outerHeight(!0),S>SSG.imgs[a].pos&&S<i){SSG.displayedImg==a&&!SSG.atLastone||(SSG.setHashGA(a),SSG.cfg.onImgChange&&SSG.cfg.onImgChange(SSG.createDataObject(a))),SSG.displayedImg=a,SSG.imgDelta=0,SSG.atLastone=!1;break}!SSG.atLastone&&n<S&&(SSG.atLastone=!0,SSG.displayedImg=SSG.imgs.length-1,SSG.setHashGA(-1),SSG.cfg.onSignpost&&SSG.cfg.onSignpost())}SSG.actualPos=e,!SSG.imageUp&&!SSG.imageDown&&SSG.isFirstImageCentered||(SSG.landscapeMode&&SSG.isFirstImageCentered&&!SSG.wasJumpScrollUsed&&(SSG.wasJumpScrollUsed=!0),SSG.jumpScroll())},SSG.ScrollTo=function(e,S){SSG.jumpScrollingNow=!0,S&&(jQuery("#SSG1 figure[id=f"+(SSG.displayedImg+S)+"]").fadeTo(0,0),jQuery("#SSG1 figure[id=f"+SSG.displayedImg+"]").fadeTo(.8*SSG.cfg.scrollDuration,0)),jQuery("html, body").animate({scrollTop:e},SSG.cfg.scrollDuration,"swing",function(){SSG.jumpScrollingNow=!1}),S&&(jQuery("#SSG1 figure[id=f"+(SSG.displayedImg+S)+"]").fadeTo(1.33*SSG.cfg.scrollDuration,1),jQuery("#SSG1 figure[id=f"+SSG.displayedImg+"]").fadeTo(SSG.cfg.scrollDuration,1))},SSG.jumpScroll=function(){var e,S,t,i,n,a,o=0;SSG.landscapeMode&&(.3*SSG.scrHeight<jQuery("#SSG1 #i"+SSG.displayedImg).outerHeight(!0)&&(o=1),0==o&&SSG.imageUp&&(o=1),.3*SSG.scrHeight>jQuery("#SSG1 #i"+(SSG.displayedImg-1)).outerHeight(!0)&&SSG.imageUp&&(o=0)),-1!=SSG.displayedImg&&(S=window.pageYOffset||document.documentElement.scrollTop,t=SSG.countImageIndent(SSG.displayedImg),i=S+t-SSG.imgs[SSG.displayedImg].pos,0!=(e=(n=t/2>SSG.scrHeight/20?t/2:SSG.scrHeight/20)<i?1:i<-n?-1:0)&&(o=0)),SSG.imageDown&&-1==e&&!SSG.atLastone||SSG.imageUp&&1==e&&!SSG.atLastone?SSG.ScrollTo(SSG.imgs[SSG.displayedImg].pos-SSG.countImageIndent(SSG.displayedImg),0):SSG.imageDown&&SSG.displayedImg+1<SSG.imgs.length&&SSG.imgs[SSG.displayedImg+1].pos?SSG.ScrollTo(SSG.imgs[SSG.displayedImg+1].pos-SSG.countImageIndent(SSG.displayedImg+1),o):SSG.imageUp&&0<=SSG.displayedImg-1&&!SSG.atLastone?(SSG.imgDelta=-1,SSG.ScrollTo(SSG.imgs[SSG.displayedImg-1].pos-SSG.countImageIndent(SSG.displayedImg-1),-o)):SSG.imgs[0].pos&&!SSG.isFirstImageCentered?window.setTimeout(function(){SSG.ScrollTo(SSG.imgs[0].pos-SSG.countImageIndent(0),0),SSG.isFirstImageCentered=!0},100):SSG.imageUp&&SSG.atLastone?SSG.ScrollTo(SSG.imgs[SSG.displayedImg].pos-SSG.countImageIndent(SSG.displayedImg),0):void 0!==jQuery("#SSG_menu").offset()&&(a=SSG.fileLoaded?SSG.scrHeight/10:SSG.scrHeight-SSG.scrHeight/5,SSG.imageDown&&SSG.ScrollTo(jQuery("#SSG_menu").offset().top-a,0)),SSG.imageDown=!1,SSG.imageUp=!1},SSG.countImageIndent=function(e){var S=jQuery(window).height(),t=jQuery("#SSG1 #i"+e).outerHeight(),i=jQuery("#SSG1 #p"+e).innerHeight(),n=0==e?0:e-1,a=jQuery("#SSG1 #f"+n).hasClass("title")&&!jQuery("#SSG1 #f"+n).hasClass("SSG_uwide")?parseInt(jQuery("#SSG1 #p"+n).css("marginBottom")):jQuery("#SSG1 #p"+n).outerHeight(!0)-jQuery("#SSG1 #p"+n).innerHeight(),o=jQuery("#SSG1 #f"+e).hasClass("title")&&!jQuery("#SSG1 #f"+e).hasClass("SSG_uwide")?Math.round((S-(t+i+parseInt(jQuery("#SSG1 #p"+e).css("marginTop"))))/2):Math.round((S-(t+i))/2)+1;return o<0&&(o=2*o-2),a<o?a:o},SSG.seizeScrolling=function(e){e.preventDefault(),e.stopImmediatePropagation(),333<Math.abs(e.timeStamp-SSG.savedTimeStamp)&&("number"==typeof e.detail&&0!==e.detail?0<e.detail?SSG.imageDown=!0:e.detail<0&&(SSG.imageUp=!0):"number"==typeof e.wheelDelta&&(e.wheelDelta<0?SSG.imageDown=!0:0<e.wheelDelta&&(SSG.imageUp=!0))),SSG.savedTimeStamp=e.timeStamp},SSG.openFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen({navigationUI:"hide"}):e.mozRequestFullScreen?e.mozRequestFullScreen({navigationUI:"hide"}):e.webkitRequestFullscreen&&e.webkitRequestFullscreen({navigationUI:"hide"})},SSG.closeFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},SSG.createDataObject=function(e){var S={};return S.imgCount=SSG.imgs.length,S.imgGalleryId=e,S.imgPageId=SSG.imgs[e].id,S.imgPath=SSG.imgs[e].href,S.imgName=SSG.getName(S.imgPath),S.imageCaption=SSG.imgs[e].alt,S},SSG.destroyGallery=function(){var e;history.replaceState(null,null,SSG.location),clearInterval(SSG.metronomInterval),SSG.cfg.logIntoGA&&"function"==typeof ga&&ga("send","pageview",location.pathname),document.removeEventListener("mousewheel",SSG.seizeScrolling,!0),document.removeEventListener("DOMMouseScroll",SSG.seizeScrolling,!0),jQuery(window).off("resize",SSG.onResize),jQuery(document).off("keydown",SSG.keyFunction),jQuery(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange",SSG.onFS),window.removeEventListener("orientationchange",SSG.orientationChanged),window.screen.orientation&&window.screen.orientation.removeEventListener("change",SSG.orientationChanged),e=SSG.landscapeMode!=SSG.landscapeModeOriginal&&SSG.initEvent&&SSG.initEvent.currentTarget?jQuery('a[ssgid="'+SSG.initEvent.currentTarget.attributes.ssgid.nodeValue+'"]').offset().top-SSG.scrHeight/3:SSG.originalPos,SSG.inFullscreenMode?window.setTimeout(function(){window.scrollTo(0,e)},50):window.scrollTo(0,e),jQuery("#SSG_bg, #SSG1, #SSG_exit, #SSG_lastone, #SSG_tip").remove(),jQuery("html").removeClass("ssg-active"),jQuery("meta[name='viewport']").attr("content",SSG.viewport),jQuery("meta[name='theme-color']").attr("content",SSG.themeColor?SSG.themeColor:""),SSG.inFullscreenMode&&SSG.closeFullscreen(),SSG.running=!1,SSG.cfg.onGalleryExit&&SSG.cfg.onGalleryExit(SSG.atLastone?null:this.createDataObject(SSG.displayedImg))},SSG.showFsTip=function(e){var S,t,i,n,a,o,r,s;0==jQuery("#SSG_tip").length?(S="<div id='SSG_tip'><span class='"+(8<e.length?"linkShare":e)+"'><div id='SSG_tipClose'>&times;</div>",t="</span></div>",i=SSG.cfg.hintFS+"<br>",n=function(){SSG.openFullscreen(),jQuery("#SSG_tip").remove()},"fsOffer"==e?(jQuery("body").append(S+i+t),jQuery("#SSG_tip").click(n)):8<e.length?(a='<textarea readonly rows="2"  id="linkText" >'+e+'</textarea><br/><button id="copyLink">'+SSG.cfg.copyButton+"</button>",jQuery("body").append(S+"<p>"+SSG.cfg.imageLink+"</p>"+a+"<div>"+SSG.cfg.linkPaste+"</div>"+t),jQuery("#SSG_tip #copyLink").click(function(){jQuery("#SSG_tip #linkText").select(),document.execCommand("copy")})):"hint"==e&&(o="<div class='classic'>"+SSG.cfg.hint1+"<br>"+SSG.cfg.hint2+"<br>",r=SSG.cfg.hint3+"</div>",s="<div class='touch'>"+SSG.cfg.hintTouch+"</div>",!SSG.inFullscreenMode&&SSG.fullScreenSupport?(jQuery("body").append(S+o+r+s+"<hr>"+i+t),jQuery("#SSG_tip").click(n)):jQuery("body").append(S+o+r+s+t),SSG.fsTipShown=!0),jQuery("#SSG_tipClose").click(function(){jQuery("#SSG_tip").remove()}),jQuery("#SSG_tip").on("contextmenu",function(e){e.preventDefault()})):jQuery("#SSG_tip").remove()};